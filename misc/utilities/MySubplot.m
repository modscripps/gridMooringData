function ax = MySubplot(mlx, mrx, mix, mty, mby, miy, nx, ny)%function ax = MySubplot(mlx, mrx, mix, mty, mby, miy, nx, ny)%Return handles to axes of equal size.  Specify the %offsets at left, right, top and bottom, as well as between%panes.  Also specify the number of panes in x and y direction.%The routine will compute the correct size for each pane, and %create the axes for them in the current figure.%They are ordered starting at top, and%moving across to the right (same as MATLAB's Subplot).%%Arguments and sample values:%Left margin%mlx = .1;%right margin%mrx = .1;%margin between panes%mix = .05;%top margin%mty = .1;%bottom margin%mby = .1;%margin between panes%miy = 0;%Number of panes in x, y dirs%nx = 2;%ny = 4;%%MHA 6/21/01%Pane sizessx = (1 - mlx - mrx - (nx-1)*mix) / nx;sy = (1 - mty - mby - (ny-1)*miy) / ny;%Now make the panes, starting at top and moving across to rightfor pthis = 1 : nx*ny	pthisx = rem(pthis, nx);	if pthisx == 0		pthisx = nx;    end    	pthisy = (ny+1) - ceil(pthis/nx);	%Now set up the axes	ax(pthis) = axes('position', [mlx+(pthisx-1)*(sx+mix) mby+(pthisy-1)*(sy+miy) sx sy]);	end	